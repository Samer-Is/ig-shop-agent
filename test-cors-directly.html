<!DOCTYPE html>
<html>
<head>
    <title>Test CORS to Backend</title>
</head>
<body>
    <h1>Testing CORS to Backend</h1>
    <button onclick="testHealth()">Test Health Endpoint</button>
    <button onclick="testCatalog()">Test Catalog Endpoint</button>
    <button onclick="testAnalytics()">Test Analytics Endpoint</button>
    <div id="results"></div>

    <script>
        const API_BASE = 'https://igshop-dev-functions-v2.azurewebsites.net/api';
        
        function log(message) {
            document.getElementById('results').innerHTML += '<p>' + message + '</p>';
        }
        
        async function testHealth() {
            log('Testing health endpoint...');
            try {
                const response = await fetch(API_BASE + '/health');
                const data = await response.json();
                log('✅ Health: ' + JSON.stringify(data));
            } catch (error) {
                log('❌ Health error: ' + error.message);
            }
        }
        
        async function testCatalog() {
            log('Testing catalog endpoint...');
            try {
                const response = await fetch(API_BASE + '/catalog');
                const data = await response.json();
                log('✅ Catalog: ' + JSON.stringify(data));
            } catch (error) {
                log('❌ Catalog error: ' + error.message);
            }
        }
        
        async function testAnalytics() {
            log('Testing analytics endpoint...');
            try {
                const response = await fetch(API_BASE + '/analytics');
                const data = await response.json();
                log('✅ Analytics: ' + JSON.stringify(data));
            } catch (error) {
                log('❌ Analytics error: ' + error.message);
            }
        }
    </script>
</body>
</html> 